# 视频字幕播放器

一个纯前端的视频字幕播放网站，支持本地视频播放和 SRT 字幕同步显示。适合部署到 GitHub Pages。

## ✨ 功能特性

- 🎬 **本地视频播放**：支持从本地选择视频文件进行播放
- 🎥 **专业播放器**：基于 Video.js，提供专业的播放体验
- ⚡ **倍速播放**：支持 0.5x、0.75x、1x、1.25x、1.5x、2x 倍速
- 📝 **SRT 字幕支持**：自动解析和显示 SRT 格式字幕
- 🎯 **字幕同步高亮**：播放时自动高亮当前时间轴对应的字幕
- 🖱️ **点击跳转**：点击字幕条目即可跳转到对应视频时间点
- 📜 **自动滚动**：字幕列表自动滚动到当前播放位置
- ⌨️ **键盘快捷键**：支持常用的播放控制快捷键
- 🎨 **现代化界面**：响应式设计，支持移动端和桌面端
- 📂 **拖放支持**：支持拖放视频和字幕文件
- 🌐 **跨浏览器**：Video.js 提供统一的界面和体验

## 🚀 快速开始

### 在线使用

1. 访问部署的网站
2. 点击"选择视频"按钮，选择本地视频文件
3. 点击"选择字幕"按钮，选择对应的 .srt 字幕文件
4. 开始播放和浏览字幕

### 本地运行

1. 克隆或下载本项目

```bash
git clone https://github.com/你的用户名/你的仓库名.git
cd 你的仓库名
```

2. 使用任意 HTTP 服务器运行（推荐）

```bash
# 使用 Python
python -m http.server 8000

# 或使用 Node.js 的 http-server
npx http-server
```

3. 在浏览器中打开 `http://localhost:8000`

### 部署到 GitHub Pages

1. 将项目推送到 GitHub 仓库
2. 进入仓库的 Settings → Pages
3. 在 Source 中选择主分支（main 或 master）
4. 保存后，GitHub 会提供访问链接

## 📖 使用说明

### 基本操作

1. **加载视频**
   - 点击"选择视频"按钮选择视频文件
   - 或直接拖放视频文件到播放区域

2. **加载字幕**
   - 点击"选择字幕"按钮选择 .srt 字幕文件
   - 或直接拖放字幕文件到播放区域
   - 支持同时拖放视频和字幕文件

3. **播放控制**
   - 使用视频播放器的标准控制按钮
   - 使用键盘快捷键（见下方）

4. **字幕导航**
   - 在右侧字幕列表中点击任意字幕
   - 视频会自动跳转到对应时间点
   - 当前播放的字幕会高亮显示
   - 字幕列表会自动滚动到当前位置

### 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `空格` | 播放/暂停 |
| `←` | 后退 5 秒 |
| `→` | 前进 5 秒 |
| `↑` | 跳转到上一条字幕 |
| `↓` | 跳转到下一条字幕 |

### 支持的格式

- **视频格式**：MP4、WebM、Ogg、MKV 等
  - 注意：MKV 格式支持取决于浏览器和视频编码格式
  - 推荐使用 Chrome/Edge 浏览器以获得更好的 MKV 支持
- **字幕格式**：SRT（SubRip Text）

## 🎨 界面预览

- **左侧**：视频播放器和文件选择控制面板
- **右侧**：字幕列表，实时高亮当前播放的字幕
- **响应式设计**：在移动设备上自动调整为上下布局

## 🔧 技术栈

- **前端框架**：纯 HTML5、CSS3 和 JavaScript
- **视频播放器**：[Video.js](https://videojs.com/) v8.10.0
  - 专业的 HTML5 视频播放器
  - 跨浏览器统一界面
  - 支持倍速播放（0.5x - 2x）
  - 优化的移动端体验
- **现代浏览器 API**：
  - File API：本地文件读取
  - Drag and Drop API：拖放功能
  - Blob API：视频文件处理

## 📋 字幕文件格式

项目支持标准的 SRT 字幕格式：

```
1
00:00:01,000 --> 00:00:04,000
这是第一条字幕

2
00:00:05,000 --> 00:00:08,000
这是第二条字幕
```

## 🎬 视频格式兼容性

### 推荐格式（完美兼容）

| 容器 | 视频编码 | 音频编码 | 兼容性 |
|------|---------|---------|--------|
| MP4 | H.264 | AAC | ✅✅✅ 最佳 |
| WebM | VP8/VP9 | Opus/Vorbis | ✅✅ 很好 |
| MP4 | H.264 | MP3 | ✅✅ 很好 |

### 需要转换的格式

| 容器 | 音频编码 | 问题 | 解决方案 |
|------|---------|------|---------|
| MKV | AC3/DTS | ❌ 浏览器不支持 | [转换教程](VIDEO_CONVERSION_GUIDE.md) |
| AVI | 各种 | ⚠️ 兼容性差 | 转换为 MP4 |
| MOV | ALAC | ⚠️ 部分不支持 | 转换音频为 AAC |



## 📝 注意事项

1. 由于浏览器安全限制，网站无法自动访问本地文件系统，需要用户手动选择视频和字幕文件
2. 所有文件处理都在浏览器本地完成，不会上传到任何服务器
3. 建议使用现代浏览器以获得最佳体验
4. 大型视频文件可能需要较长的加载时间
5. **关于 MKV 格式（重要）**：
   - MKV 是一个容器格式，能否播放取决于其内部的视频/音频编码格式
   - **常见问题**：MKV 文件的 AC3/DTS 音频编码不被浏览器支持
   - 浏览器只支持：AAC、MP3、Opus、Vorbis 音频编码
   - **解决方案**：使用 FFmpeg 转换音频编码
     ```bash
     ffmpeg -i input.mkv -c:v copy -c:a aac -b:a 192k output.mp4
     ```
   - 详细转换教程请查看 [视频格式转换指南](VIDEO_CONVERSION_GUIDE.md)
   - Chrome/Edge 浏览器对支持的编码格式兼容性最好

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 🔗 相关链接

- [Video.js 官网](https://videojs.com/)
- [Video.js GitHub](https://github.com/videojs/video.js)
- [SRT 字幕格式说明](https://en.wikipedia.org/wiki/SubRip)
- [File API](https://developer.mozilla.org/en-US/docs/Web/API/File_API)

---

如有任何问题或建议，请提交 Issue。祝使用愉快！ 🎉

